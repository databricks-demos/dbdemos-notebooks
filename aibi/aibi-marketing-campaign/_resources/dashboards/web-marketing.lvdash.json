{
  "datasets": [
    {
      "name": "8ab1ca38",
      "displayName": "Metrics Rolling Over Time",
      "queryLines": [
        "select \n",
        "    date,\n",
        "      unique_clicks,\n",
        "    total_delivered,\n",
        "    total_sent,\n",
        "    total_opens,\n",
        "    total_clicks,\n",
        "    total_optouts,\n",
        "    total_spam,\n",
        "    sum(unique_clicks) OVER (ORDER BY date RANGE BETWEEN 6 PRECEDING AND CURRENT ROW) AS clicks_t7d,\n",
        "    sum(total_delivered) OVER (ORDER BY date RANGE BETWEEN 6 PRECEDING AND CURRENT ROW) AS delivered_t7d,\n",
        "    sum(unique_clicks) OVER (ORDER BY date RANGE BETWEEN 27 PRECEDING AND CURRENT ROW) AS clicks_t28d,\n",
        "    sum(total_delivered) OVER (ORDER BY date RANGE BETWEEN 27 PRECEDING AND CURRENT ROW) AS delivered_t28d,\n",
        "    sum(unique_clicks) OVER (ORDER BY date RANGE BETWEEN 90 PRECEDING AND CURRENT ROW) AS clicks_t91d,\n",
        "    sum(total_delivered) OVER (ORDER BY date RANGE BETWEEN 90 PRECEDING AND CURRENT ROW) AS delivered_t91d,\n",
        "    unique_clicks / total_delivered as ctr,\n",
        "    total_delivered / total_sent AS delivery_rate,\n",
        "    total_optouts / total_delivered AS optout_rate,\n",
        "    total_spam / total_delivered AS spam_rate,\n",
        "    clicks_t7d / delivered_t7d as ctr_t7d,\n",
        "    clicks_t28d / delivered_t28d as ctr_t28d,\n",
        "    clicks_t91d / delivered_t91d as ctr_t91d\n",
        " from main.dbdemos_aibi_cme_marketing_campaign.metrics_daily_rolling\n",
        "WHERE\n",
        "    date >= :start_date AND\n",
        "    date <= :end_date"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "d9196d0a",
      "displayName": "Metrics Breakdown per Campaign",
      "queryLines": [
        "SELECT \n",
        "    e.campaign_id,\n",
        "    first(c.campaign_name) as campaign_name,\n",
        "    first(c.campaign_description) as campaign_description,\n",
        "    first(c.cost) as cost,\n",
        "    first(c.start_date) as start_date,\n",
        "    first(c.end_date) as end_date,\n",
        "    to_timestamp(first(c.start_date)) as _start_date,\n",
        "    to_timestamp(first(c.end_date)) as _end_date,\n",
        "  SUM(CASE WHEN e.event_type = 'sent' THEN 1 ELSE 0 END) AS total_sent,\n",
        "    SUM(CASE WHEN e.event_type = 'delivered' THEN 1 ELSE 0 END) AS total_delivered,\n",
        "    SUM(CASE WHEN e.event_type = 'spam' THEN 1 ELSE 0 END) AS total_spam,\n",
        "    SUM(CASE WHEN e.event_type = 'html_open' THEN 1 ELSE 0 END) AS total_opens,\n",
        "    SUM(CASE WHEN e.event_type = 'optout_click' THEN 1 ELSE 0 END) AS total_optouts,\n",
        "    SUM(CASE WHEN e.event_type = 'click' THEN 1 ELSE 0 END) AS total_clicks,\n",
        "    count(distinct case when e.event_type = 'click' then e.contact_id end) as unique_clicks,\n",
        "    unique_clicks / total_delivered as ctr,\n",
        "    format_number(ctr, '##.##%') as ctr_p,\n",
        "    total_delivered / total_sent as delivery_rate,\n",
        "    format_number(delivery_rate, '##.##%') as delivery_rate_p,\n",
        "    total_optouts / total_delivered as optouts_rate,\n",
        "    format_number(optouts_rate, '##.##%') as optouts_rate_p,\n",
        "    total_spam / total_delivered as spam_rate,\n",
        "    format_number(spam_rate, '##.##%') as spam_rate_p,\n",
        "    sum(p.employees) as total_employees\n",
        "FROM \n",
        "    main.dbdemos_aibi_cme_marketing_campaign.events e\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.campaigns c on e.campaign_id = c.campaign_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.contacts ct on e.contact_id = ct.contact_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.prospects p on ct.prospect_id = p.prospect_id\n",
        "GROUP BY \n",
        "    e.campaign_id\n",
        "HAVING\n",
        "    _start_date >= :start_date AND\n",
        "    _end_date <= :end_date\n",
        "ORDER BY ctr desc, cost ASC"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/y"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "023bfe11",
      "displayName": "Call To Action Top 20",
      "queryLines": [
        "WITH CampaignData AS (\n",
        "    SELECT \n",
        "        e.campaign_id,\n",
        "        explode(collect_set(e.metadata.cta)) as cta,\n",
        "        to_timestamp(first(c.start_date)) as _start_date,\n",
        "        to_timestamp(first(c.end_date)) as _end_date,\n",
        "        SUM(CASE WHEN e.event_type = 'delivered' THEN 1 ELSE 0 END) AS total_delivered,\n",
        "        count(distinct case when e.event_type = 'click' then e.contact_id end) as unique_clicks\n",
        "        \n",
        "    FROM \n",
        "        main.dbdemos_aibi_cme_marketing_campaign.events e\n",
        "    INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.campaigns c on e.campaign_id = c.campaign_id\n",
        "    INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.contacts ct on e.contact_id = ct.contact_id\n",
        "    INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.prospects p on ct.prospect_id = p.prospect_id\n",
        "    GROUP BY \n",
        "        e.campaign_id\n",
        ")\n",
        "\n",
        "SELECT sum(unique_clicks) as unique_clicks, cta, campaign_id\n",
        "FROM CampaignData\n",
        "WHERE \n",
        "    _start_date >= :start_date AND\n",
        "    _end_date <= :end_date\n",
        "GROUP BY cta, campaign_id\n",
        "LIMIT 20"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "09d20820",
      "displayName": "Events Click Trough Rate",
      "queryLines": [
        "SELECT \n",
        "    e.*,\n",
        "    c.*,\n",
        "    ct.*,\n",
        "    p.*\n",
        "FROM \n",
        "    main.dbdemos_aibi_cme_marketing_campaign.events e\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.campaigns c on e.campaign_id = c.campaign_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.contacts ct on e.contact_id = ct.contact_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.prospects p on ct.prospect_id = p.prospect_id\n",
        "WHERE\n",
        "    e.event_type = 'click' AND\n",
        "    e.event_date >= :start_date AND\n",
        "    e.event_date <= :end_date\n"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "31bd8516",
      "displayName": "Metrics Breakdown per Campaign Top 20",
      "queryLines": [
        "SELECT \n",
        "    e.campaign_id,\n",
        "    first(c.campaign_name) as campaign_name,\n",
        "    first(c.campaign_description) as campaign_description,\n",
        "    first(c.subject_line) as subject_line,\n",
        "    first(c.template) as template,\n",
        "    first(c.cost) as cost,\n",
        "    first(c.start_date) as start_date,\n",
        "    first(c.end_date) as end_date,\n",
        "    to_timestamp(first(c.start_date)) as _start_date,\n",
        "    to_timestamp(first(c.end_date)) as _end_date,\n",
        "  SUM(CASE WHEN e.event_type = 'sent' THEN 1 ELSE 0 END) AS total_sent,\n",
        "    SUM(CASE WHEN e.event_type = 'delivered' THEN 1 ELSE 0 END) AS total_delivered,\n",
        "    SUM(CASE WHEN e.event_type = 'spam' THEN 1 ELSE 0 END) AS total_spam,\n",
        "    SUM(CASE WHEN e.event_type = 'html_open' THEN 1 ELSE 0 END) AS total_opens,\n",
        "    SUM(CASE WHEN e.event_type = 'optout_click' THEN 1 ELSE 0 END) AS total_optouts,\n",
        "    SUM(CASE WHEN e.event_type = 'click' THEN 1 ELSE 0 END) AS total_clicks,\n",
        "    count(distinct case when e.event_type = 'click' then e.contact_id end) as unique_clicks,\n",
        "    unique_clicks / total_delivered as ctr,\n",
        "    format_number(ctr, '##.##%') as ctr_p,\n",
        "    total_delivered / total_sent as delivery_rate,\n",
        "    format_number(delivery_rate, '##.##%') as delivery_rate_p,\n",
        "    total_optouts / total_delivered as optouts_rate,\n",
        "    format_number(optouts_rate, '##.##%') as optouts_rate_p,\n",
        "    total_spam / total_delivered as spam_rate,\n",
        "    format_number(spam_rate, '##.##%') as spam_rate_p,\n",
        "    sum(p.employees) as total_employees\n",
        "FROM \n",
        "    main.dbdemos_aibi_cme_marketing_campaign.events e\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.campaigns c on e.campaign_id = c.campaign_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.contacts ct on e.contact_id = ct.contact_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.prospects p on ct.prospect_id = p.prospect_id\n",
        "GROUP BY \n",
        "    e.campaign_id\n",
        "HAVING\n",
        "    _start_date >= :start_date AND\n",
        "    _end_date <= :end_date\n",
        "ORDER BY ctr desc, cost ASC\n",
        "LIMIT 20"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/y"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "078f943d",
      "displayName": "Issues",
      "queryLines": [
        "select * from main.dbdemos_aibi_cme_marketing_campaign.issues"
      ]
    },
    {
      "name": "72b7d899",
      "displayName": "Key Metrics Aggregated",
      "queryLines": [
        "SELECT \n",
        "    SUM(CASE WHEN event_type = 'sent' THEN 1 ELSE 0 END) AS total_sent,\n",
        "    SUM(CASE WHEN event_type = 'delivered' THEN 1 ELSE 0 END) AS total_delivered,\n",
        "    SUM(CASE WHEN event_type = 'spam' THEN 1 ELSE 0 END) AS total_spam,\n",
        "    SUM(CASE WHEN event_type = 'html_open' THEN 1 ELSE 0 END) AS total_opens,\n",
        "    SUM(CASE WHEN event_type = 'optout_click' THEN 1 ELSE 0 END) AS total_optouts,\n",
        "    SUM(CASE WHEN event_type = 'click' THEN 1 ELSE 0 END) AS total_clicks,\n",
        "    count(distinct case when event_type = 'click' then contact_id end) as unique_clicks,\n",
        "    format_number(unique_clicks / total_delivered, '##.##%') as ctr,\n",
        "    format_number(total_delivered / total_sent, '##.##%') as delivery_rate,\n",
        "    format_number(total_opens / total_sent, '##.##%') as opens_rate,\n",
        "    format_number(total_optouts / total_delivered, '##.##%') as optouts_rate,\n",
        "   format_number((total_sent-total_delivered) / total_sent, '##.##%') as bounce_rate,\n",
        "    format_number(total_spam / total_delivered, '##.##%') as spam_rate\n",
        "FROM \n",
        "    main.dbdemos_aibi_cme_marketing_campaign.events\n",
        "WHERE\n",
        "    event_date >= :start_date AND\n",
        "    event_date <= :end_date"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "073eed09",
      "displayName": "Events",
      "queryLines": [
        "SELECT \n",
        "    e.event_id,\n",
        "    e.event_type,\n",
        "    e.event_date,\n",
        "    e.metadata,\n",
        "    c.campaign_name,\n",
        "    c.campaign_description,\n",
        "    c.subject_line,\n",
        "    c.template,\n",
        "    c.cost,\n",
        "    c.start_date,\n",
        "    c.end_date,\n",
        "    c.mailing_list,\n",
        "    ct.department,\n",
        "    ct.job_title,\n",
        "    ct.source,\n",
        "    ct.device,\n",
        "    ct.opted_out,\n",
        "    p.name,\n",
        "    p.annual_revenue,\n",
        "    p.employees,\n",
        "    p.industry,\n",
        "    p.country,\n",
        "    p.city,\n",
        "    p.postcode\n",
        "FROM \n",
        "    main.dbdemos_aibi_cme_marketing_campaign.events e\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.campaigns c on e.campaign_id = c.campaign_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.contacts ct on e.contact_id = ct.contact_id\n",
        "INNER JOIN main.dbdemos_aibi_cme_marketing_campaign.prospects p on ct.prospect_id = p.prospect_id\n",
        "WHERE\n",
        "    e.event_date >= :start_date AND\n",
        "    e.event_date <= :end_date"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now-1y/y"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "6467b8cb",
      "displayName": "Feedbacks",
      "queryLines": [
        "select *, ai_analyze_sentiment(feedbacks) as sentiment from main.dbdemos_aibi_cme_marketing_campaign.feedbacks"
      ]
    }
  ],
  "pages": [
    {
      "name": "23148de6",
      "displayName": "Main Overview",
      "layout": [
        {
          "widget": {
            "name": "4cdc7665",
            "multilineTextboxSpec": {
              "lines": [
                "# AIBI DBDemos - Analyse your Email Campaigns!\n",
                "Databricks makes it easy to build ultra-personalized email campaign leveraging GenAI, and track their effectiveness."
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "ffcbf8fe",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "delivery_rate",
                      "expression": "`delivery_rate`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "delivery_rate",
                  "rowNumber": 0,
                  "displayName": "delivery_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Delivery Rate",
                "showDescription": true,
                "description": "Delivered / Total"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "593d7a69",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "spam_rate",
                      "expression": "`spam_rate`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "spam_rate",
                  "rowNumber": 0,
                  "displayName": "spam_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Spam Rate",
                "showDescription": true,
                "description": "Spam Alerts / Sent"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "a6534c36",
            "multilineTextboxSpec": {
              "lines": [
                "### Overall Key Metrics"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 16,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "a22e72fb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "campaign_name",
                      "expression": "`campaign_name`"
                    },
                    {
                      "name": "sum(cost)",
                      "expression": "SUM(`cost`)"
                    },
                    {
                      "name": "weekly(start_date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `start_date`)"
                    },
                    {
                      "name": "ctr",
                      "expression": "`ctr`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "scatter",
              "encodings": {
                "x": {
                  "fieldName": "weekly(start_date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Start Date"
                },
                "y": {
                  "fieldName": "ctr",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Click-Through Rate"
                },
                "color": {
                  "fieldName": "campaign_name",
                  "scale": {
                    "type": "categorical"
                  },
                  "legend": {
                    "hideTitle": false,
                    "position": "bottom"
                  },
                  "displayName": "campaign "
                },
                "size": {
                  "fieldName": "sum(cost)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Cost $"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Top Performing Campaigns",
                "showDescription": true,
                "description": "Lowest cost and highest CTR"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 4,
            "height": 13
          }
        },
        {
          "widget": {
            "name": "8cd5714d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "opens_rate",
                      "expression": "`opens_rate`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "opens_rate",
                  "displayName": "opens_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Open Rate",
                "showDescription": true,
                "description": "Opened / Sent"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "31240d5f",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "sum(unique_clicks)",
                      "expression": "SUM(`unique_clicks`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(unique_clicks)",
                  "displayName": "Sum of unique_clicks"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique Clicks"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "b5b926ac",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "optouts_rate",
                      "expression": "`optouts_rate`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "optouts_rate",
                  "displayName": "optouts_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Churn Rate",
                "showDescription": true,
                "description": "Unsubscribed / Sent"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "3609000a",
            "multilineTextboxSpec": {
              "lines": [
                "### Campaigns Effectiveness\n"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "e436047a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "72b7d899",
                  "fields": [
                    {
                      "name": "ctr",
                      "expression": "`ctr`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "ctr",
                  "displayName": "ctr"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "CTR",
                "showDescription": true,
                "description": "Click-Through Rate"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 17,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "659438aa",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "template",
                      "expression": "`template`"
                    },
                    {
                      "name": "sum(spam_rate)",
                      "expression": "SUM(`spam_rate`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "template",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "template"
                },
                "y": {
                  "fieldName": "sum(spam_rate)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Spam Rate"
                  },
                  "displayName": "Spam Rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Top Templates Spam Rate"
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 4,
            "y": 10,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "392b4c1a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "avg(ctr)",
                      "expression": "AVG(`ctr`)"
                    },
                    {
                      "name": "template",
                      "expression": "`template`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "funnel",
              "encodings": {
                "x": {
                  "fieldName": "avg(ctr)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "CTR"
                  },
                  "displayName": "CTR"
                },
                "y": {
                  "fieldName": "template",
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "x-reversed"
                    }
                  },
                  "axis": {
                    "title": "Template"
                  },
                  "displayName": "Template"
                }
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "CTR by Template"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 3,
            "width": 2,
            "height": 7
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "b143601d",
      "displayName": "Top Campaigns Deep Dive",
      "layout": [
        {
          "widget": {
            "name": "d8ede884",
            "multilineTextboxSpec": {
              "lines": [
                "# Top 20 Campaigns Metrics"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "fc424ffa",
            "queries": [
              {
                "name": "dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f084b5230a1dd19883d1d4eb97323f_campaign_name",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "campaign_name",
                      "expression": "`campaign_name`"
                    },
                    {
                      "name": "campaign_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f084b5230a1df3a38ad156896edeaa_campaign_name",
                "query": {
                  "datasetName": "073eed09",
                  "fields": [
                    {
                      "name": "campaign_name",
                      "expression": "`campaign_name`"
                    },
                    {
                      "name": "campaign_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "campaign_name",
                    "displayName": "campaign_name",
                    "queryName": "dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f084b5230a1dd19883d1d4eb97323f_campaign_name"
                  },
                  {
                    "fieldName": "campaign_name",
                    "displayName": "campaign_name",
                    "queryName": "dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f084b5230a1df3a38ad156896edeaa_campaign_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Campaign Name"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "96c19e06",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "campaign_name",
                      "expression": "`campaign_name`"
                    },
                    {
                      "name": "cost",
                      "expression": "`cost`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "campaign_name",
                  "axis": {
                    "title": "Campaign Name"
                  },
                  "scale": {
                    "type": "categorical",
                    "sort": {
                      "by": "y-reversed"
                    }
                  },
                  "displayName": "Campaign Name"
                },
                "y": {
                  "fieldName": "cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Campaign Cost"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "e49386eb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "31bd8516",
                  "fields": [
                    {
                      "name": "sum(total_sent)",
                      "expression": "SUM(`total_sent`)"
                    },
                    {
                      "name": "template",
                      "expression": "`template`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "sum(total_sent)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total sent"
                },
                "color": {
                  "fieldName": "template",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "template"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Email Sent by Template"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 3,
            "height": 7
          }
        },
        {
          "widget": {
            "name": "1b83a66a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "073eed09",
                  "fields": [
                    {
                      "name": "event_type",
                      "expression": "`event_type`"
                    },
                    {
                      "name": "weekly(event_date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `event_date`)"
                    },
                    {
                      "name": "count(event_id)",
                      "expression": "COUNT(`event_id`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(event_date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Event Date"
                  },
                  "displayName": "Event Date"
                },
                "y": {
                  "fieldName": "count(event_id)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Events"
                },
                "color": {
                  "fieldName": "event_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "event_type"
                }
              },
              "mark": {
                "layout": "group"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "7bb36b2a",
            "multilineTextboxSpec": {
              "lines": [
                "# Campaign Timeline"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 9,
            "width": 6,
            "height": 1
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "87ec15b6",
      "displayName": "Audience Analysis",
      "layout": [
        {
          "widget": {
            "name": "4531fae0",
            "multilineTextboxSpec": {
              "lines": [
                "# Audience Analysis\n",
                "Analysis of contact activity and actions recorded, together with feedbacks and comments collected on the campaign"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "0e9a115d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "09d20820",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "device",
                      "expression": "`device`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "device",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "device"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Engagment",
                "showDescription": true,
                "description": "By Device"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 2,
            "width": 1,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "c698b0ce",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "09d20820",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "source",
                      "expression": "`source`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "source",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "source"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Clicks"
                },
                "color": {
                  "fieldName": "source",
                  "scale": {
                    "type": "categorical"
                  },
                  "legend": {
                    "hideTitle": false
                  },
                  "displayName": "source"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Engagment",
                "showDescription": true,
                "description": "By Source"
              },
              "mark": {
                "colors": [
                  "#077A9D",
                  "#FFAB00",
                  "#00A972",
                  "#FF3621",
                  "#8BCAE7",
                  "#AB4057",
                  "#99DDB4",
                  "#FCA4A1",
                  "#919191",
                  "#BF7080"
                ]
              }
            }
          },
          "position": {
            "x": 4,
            "y": 2,
            "width": 1,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "e018876a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "6467b8cb",
                  "fields": [
                    {
                      "name": "feedbacks",
                      "expression": "`feedbacks`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "feedbacks",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "feedbacks",
                    "allowSearch": true,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "feedbacks"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "campaign_id",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100000,
                  "title": "campaign_id",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "contact_id",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100002,
                  "title": "contact_id",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "sentiment",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100003,
                  "title": "sentiment",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "Feedbacks"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 12,
            "width": 3,
            "height": 7
          }
        },
        {
          "widget": {
            "name": "308ec9b6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "078f943d",
                  "fields": [
                    {
                      "name": "countdistinct(campaign_id)",
                      "expression": "COUNT(DISTINCT `campaign_id`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "countdistinct(campaign_id)",
                  "displayName": "Count of Unique campaign_id"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "# Impacted campaigns"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 9,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "f706f5cb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "6467b8cb",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "sentiment",
                      "expression": "`sentiment`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "histogram",
              "encodings": {
                "x": {
                  "fieldName": "sentiment",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "hideTitle": true,
                    "hideLabels": true
                  },
                  "displayName": "sentiment"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "sentiment",
                  "scale": {
                    "type": "categorical"
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "sentiment"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Sentiment"
              }
            }
          },
          "position": {
            "x": 1,
            "y": 9,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "a1fddc7f",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "078f943d",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "count(*)",
                  "displayName": "Count of Records"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "# Issues"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 9,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "3f60d69e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "09d20820",
                  "fields": [
                    {
                      "name": "city",
                      "expression": "`city`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "country",
                      "expression": "`country`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "country",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "hideTitle": true,
                    "hideLabels": false
                  },
                  "displayName": "country"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true,
                    "title": "Compain Events",
                    "hideLabels": false
                  },
                  "displayName": "Clicks"
                },
                "color": {
                  "fieldName": "city",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "city"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Engagement",
                "showDescription": true,
                "description": "By Location"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 1,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "3a0802f2",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "6467b8cb",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "count(*)",
                  "displayName": "Count of Records"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "# Feedbacks"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "222d50ba",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "09d20820",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "industry",
                      "expression": "`industry`"
                    },
                    {
                      "name": "sum(employees)",
                      "expression": "SUM(`employees`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "industry",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "hideLabels": false,
                    "hideTitle": true
                  },
                  "displayName": "industry"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "sum(employees)",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "blues"
                    }
                  },
                  "legend": {
                    "position": "bottom"
                  },
                  "displayName": "TAM "
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Engagement",
                "showDescription": true,
                "description": "By Industry"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "f0e94386",
            "multilineTextboxSpec": {
              "lines": [
                "### Compliance and Legal"
              ]
            }
          },
          "position": {
            "x": 3,
            "y": 8,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "98fac14c",
            "multilineTextboxSpec": {
              "lines": [
                "### Feedback and Comments"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "598e3451",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "09d20820",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "department",
                      "expression": "`department`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "department",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "department"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Engagement",
                "showDescription": true,
                "description": "By Departement"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 1,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "4003f4eb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "078f943d",
                  "fields": [
                    {
                      "name": "complaint_type",
                      "expression": "`complaint_type`"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "histogram",
              "encodings": {
                "x": {
                  "fieldName": "complaint_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "complaint_type"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "hideTitle": true
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "complaint_type",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "[\"GDPR\"]",
                        "color": "#FCA4A1"
                      },
                      {
                        "value": "[\"CAN-SPAM Act\"]",
                        "color": "#AB4057"
                      },
                      {
                        "value": "[\"Other\"]",
                        "color": "#eaeaea"
                      }
                    ]
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "complaint_type"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Complaints"
              },
              "mark": {
                "colors": [
                  "#FFAB00",
                  "#FFAB00",
                  "#00A972",
                  "#FF3621",
                  "#8BCAE7",
                  "#AB4057",
                  "#99DDB4",
                  "#FCA4A1",
                  "#919191",
                  "#BF7080"
                ]
              }
            }
          },
          "position": {
            "x": 3,
            "y": 12,
            "width": 3,
            "height": 7
          }
        },
        {
          "widget": {
            "name": "d216f453",
            "queries": [
              {
                "name": "dashboards/01ef088692f912a6a81cbf1bd27dea0d/datasets/01ef08869313151cb9be1bb4902a83d5_sentiment",
                "query": {
                  "datasetName": "6467b8cb",
                  "fields": [
                    {
                      "name": "sentiment",
                      "expression": "`sentiment`"
                    },
                    {
                      "name": "sentiment_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "sentiment",
                    "displayName": "sentiment",
                    "queryName": "dashboards/01ef088692f912a6a81cbf1bd27dea0d/datasets/01ef08869313151cb9be1bb4902a83d5_sentiment"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Sentiment"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 9,
            "width": 1,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "1f37614e",
            "queries": [
              {
                "name": "dashboards/01ef088692f912a6a81cbf1bd27dea0d/datasets/01ef0886930a11739cbd370b33c28549_complaint_type",
                "query": {
                  "datasetName": "078f943d",
                  "fields": [
                    {
                      "name": "complaint_type",
                      "expression": "`complaint_type`"
                    },
                    {
                      "name": "complaint_type_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "complaint_type",
                    "displayName": "complaint_type",
                    "queryName": "dashboards/01ef088692f912a6a81cbf1bd27dea0d/datasets/01ef0886930a11739cbd370b33c28549_complaint_type"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Complaint Type"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 9,
            "width": 1,
            "height": 3
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "002e4280",
      "displayName": "Global Filters",
      "layout": [
        {
          "widget": {
            "name": "add87561",
            "queries": [
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6113384a87426f25a4159_start_date",
                "query": {
                  "datasetName": "72b7d899",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6109e8524b15a586a815c_start_date",
                "query": {
                  "datasetName": "8ab1ca38",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610eca013a330d88a3f2a_start_date",
                "query": {
                  "datasetName": "d9196d0a",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611409c3be8381ab5820f_start_date",
                "query": {
                  "datasetName": "073eed09",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611198454525b96a26728_start_date",
                "query": {
                  "datasetName": "31bd8516",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6110ca78f575297b4cfdf_start_date",
                "query": {
                  "datasetName": "09d20820",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610febbac5c8fa1b642dd_start_date",
                "query": {
                  "datasetName": "023bfe11",
                  "parameters": [
                    {
                      "name": "start_date",
                      "keyword": "start_date"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-picker",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6113384a87426f25a4159_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6109e8524b15a586a815c_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610eca013a330d88a3f2a_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611409c3be8381ab5820f_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611198454525b96a26728_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6110ca78f575297b4cfdf_start_date"
                  },
                  {
                    "parameterName": "start_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610febbac5c8fa1b642dd_start_date"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Start Date"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 1,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "8d82521a",
            "queries": [
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6113384a87426f25a4159_end_date",
                "query": {
                  "datasetName": "72b7d899",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6109e8524b15a586a815c_end_date",
                "query": {
                  "datasetName": "8ab1ca38",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610eca013a330d88a3f2a_end_date",
                "query": {
                  "datasetName": "d9196d0a",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611409c3be8381ab5820f_end_date",
                "query": {
                  "datasetName": "073eed09",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611198454525b96a26728_end_date",
                "query": {
                  "datasetName": "31bd8516",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6110ca78f575297b4cfdf_end_date",
                "query": {
                  "datasetName": "09d20820",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610febbac5c8fa1b642dd_end_date",
                "query": {
                  "datasetName": "023bfe11",
                  "parameters": [
                    {
                      "name": "end_date",
                      "keyword": "end_date"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-picker",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6113384a87426f25a4159_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6109e8524b15a586a815c_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610eca013a330d88a3f2a_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611409c3be8381ab5820f_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb611198454525b96a26728_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb6110ca78f575297b4cfdf_end_date"
                  },
                  {
                    "parameterName": "end_date",
                    "queryName": "parameter_dashboards/01f06e53bdb51b8798c7993262e58d96/datasets/01f06e53bdb610febbac5c8fa1b642dd_end_date"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "End Date"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 1,
            "height": 2
          }
        }
      ],
      "pageType": "PAGE_TYPE_GLOBAL_FILTERS"
    },
    {
      "name": "be11df30",
      "displayName": "Metrics & Trends",
      "layout": [
        {
          "widget": {
            "name": "41701097",
            "multilineTextboxSpec": {
              "lines": [
                "# Metrics & Trends over time\n",
                "Databricks makes it easy to build ultra-personalized email campaign leveraging GenAI, and track their effectiveness!"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "27445ecd",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d9196d0a",
                  "fields": [
                    {
                      "name": "campaign_name",
                      "expression": "`campaign_name`"
                    },
                    {
                      "name": "campaign_description",
                      "expression": "`campaign_description`"
                    },
                    {
                      "name": "campaign_id",
                      "expression": "`campaign_id`"
                    },
                    {
                      "name": "cost",
                      "expression": "`cost`"
                    },
                    {
                      "name": "ctr_p",
                      "expression": "`ctr_p`"
                    },
                    {
                      "name": "delivery_rate_p",
                      "expression": "`delivery_rate_p`"
                    },
                    {
                      "name": "end_date",
                      "expression": "`end_date`"
                    },
                    {
                      "name": "optouts_rate_p",
                      "expression": "`optouts_rate_p`"
                    },
                    {
                      "name": "spam_rate_p",
                      "expression": "`spam_rate_p`"
                    },
                    {
                      "name": "start_date",
                      "expression": "`start_date`"
                    },
                    {
                      "name": "total_sent",
                      "expression": "`total_sent`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "campaign_id",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 0,
                    "title": "ID",
                    "allowSearch": true,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "campaign_id"
                  },
                  {
                    "fieldName": "campaign_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 1,
                    "title": "Campaign Name",
                    "allowSearch": true,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "campaign_name"
                  },
                  {
                    "fieldName": "campaign_description",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": false,
                    "order": 6,
                    "title": "Description",
                    "allowSearch": true,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "campaign_description"
                  },
                  {
                    "fieldName": "cost",
                    "numberFormat": "0.00 $",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 7,
                    "title": "Cost",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": "#356AFF"
                      },
                      "rules": []
                    },
                    "displayName": "cost"
                  },
                  {
                    "fieldName": "start_date",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "date",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 8,
                    "title": "Start",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "start_date"
                  },
                  {
                    "fieldName": "end_date",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "date",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 9,
                    "title": "End",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "end_date"
                  },
                  {
                    "fieldName": "total_sent",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 10,
                    "title": "Volume",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "total_sent"
                  },
                  {
                    "fieldName": "ctr_p",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 16,
                    "title": "CTR",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": "#09a941"
                      },
                      "rules": []
                    },
                    "displayName": "ctr_p"
                  },
                  {
                    "fieldName": "delivery_rate_p",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 17,
                    "title": "Delivery Rate",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": "#76b48c"
                      },
                      "rules": []
                    },
                    "displayName": "delivery_rate_p"
                  },
                  {
                    "fieldName": "spam_rate_p",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 18,
                    "title": "Spam Rate",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": "#E92828"
                      },
                      "rules": []
                    },
                    "displayName": "spam_rate_p"
                  },
                  {
                    "fieldName": "optouts_rate_p",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 20,
                    "title": "Optouts Rate",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "cellFormat": {
                      "default": {
                        "foregroundColor": "#E92828"
                      },
                      "rules": []
                    },
                    "displayName": "optouts_rate_p"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_delivered",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 2,
                  "title": "Total Delivered Emails",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_spam",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 3,
                  "title": "total_spam",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_clicks",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 4,
                  "title": "Total Clicks",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "unique_clicks",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 5,
                  "title": "unique_clicks",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0.00",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "ctr",
                  "type": "float",
                  "displayAs": "number",
                  "order": 11,
                  "title": "ctr",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0.00",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "delivery_rate",
                  "type": "float",
                  "displayAs": "number",
                  "order": 12,
                  "title": "delivery_rate",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_opens",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 13,
                  "title": "total_opens",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0.00",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "spam_rate",
                  "type": "float",
                  "displayAs": "number",
                  "order": 14,
                  "title": "spam_rate",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_optouts",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 15,
                  "title": "total_optouts",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0.00",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "optouts_rate",
                  "type": "float",
                  "displayAs": "number",
                  "order": 19,
                  "title": "optouts_rate",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false,
                  "cellFormat": {
                    "default": {
                      "foregroundColor": "#E92828"
                    },
                    "rules": []
                  }
                },
                {
                  "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "_start_date",
                  "type": "datetime",
                  "displayAs": "datetime",
                  "order": 21,
                  "title": "_start_date",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "_end_date",
                  "type": "datetime",
                  "displayAs": "datetime",
                  "order": 22,
                  "title": "_end_date",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_employees",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 23,
                  "title": "total_employees",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 50,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": false,
                "showDescription": true,
                "title": "campaigns",
                "description": "Sorted by CTR and campaign Cost"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 20,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "1a953bc4",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "8ab1ca38",
                  "fields": [
                    {
                      "name": "weekly(date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `date`)"
                    },
                    {
                      "name": "avg(ctr_t7d)",
                      "expression": "AVG(`ctr_t7d`)"
                    },
                    {
                      "name": "avg(ctr_t28d)",
                      "expression": "AVG(`ctr_t28d`)"
                    },
                    {
                      "name": "avg(ctr_t91d)",
                      "expression": "AVG(`ctr_t91d`)"
                    },
                    {
                      "name": "avg(ctr)",
                      "expression": "AVG(`ctr`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "weekly(date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "date"
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "avg(ctr_t7d)",
                      "displayName": "Average ctr_t7d"
                    },
                    {
                      "fieldName": "avg(ctr_t28d)",
                      "displayName": "Average ctr_t28d"
                    },
                    {
                      "fieldName": "avg(ctr_t91d)",
                      "displayName": "Average ctr_t91d"
                    },
                    {
                      "fieldName": "avg(ctr)",
                      "displayName": "Average ctr"
                    }
                  ]
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Click Through Rate"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "37b269b3",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "8ab1ca38",
                  "fields": [
                    {
                      "name": "weekly(date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `date`)"
                    },
                    {
                      "name": "avg(optout_rate)",
                      "expression": "AVG(`optout_rate`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "weekly(date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "date"
                },
                "y": {
                  "fieldName": "avg(optout_rate)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Average optout_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Marketing Opt Out Rate"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 14,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "477f3ca1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "8ab1ca38",
                  "fields": [
                    {
                      "name": "weekly(date)",
                      "expression": "DATE_TRUNC(\"WEEK\", `date`)"
                    },
                    {
                      "name": "avg(spam_rate)",
                      "expression": "AVG(`spam_rate`)"
                    },
                    {
                      "name": "avg(delivery_rate)",
                      "expression": "AVG(`delivery_rate`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "weekly(date)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "date"
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "avg(spam_rate)",
                      "displayName": "Average spam_rate"
                    },
                    {
                      "fieldName": "avg(delivery_rate)",
                      "displayName": "Average delivery_rate"
                    }
                  ]
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Delivery vs Spam  "
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 6,
            "height": 6
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ],
  "uiSettings": {
    "theme": {
      "canvasBackgroundColor": {
        "light": "#F9F7F4",
        "dark": "#1B3139"
      },
      "widgetBackgroundColor": {
        "light": "#EEEDE9",
        "dark": "#0B2026"
      },
      "fontColor": {
        "light": "#1B3139",
        "dark": "#F9F7F4"
      },
      "selectionColor": {
        "light": "#FF3621",
        "dark": "#FF3621"
      },
      "visualizationColors": [
        "#1B5162",
        "#FF3621",
        "#FFAB00",
        "#00A972",
        "#98102A",
        "#A0ACBE",
        "#FF9E94",
        "#FFCC66",
        "#70C4AB",
        "#BF7080"
      ],
      "widgetHeaderAlignment": "LEFT"
    }
  }
}
